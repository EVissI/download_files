
services:
  # === Worker #1 ===
  worker-1:
    build: .
    container_name: backgammon_worker_1
    command: python -m bot.workers.hint_viewer_worker
    environment:
      - REDIS_HOST=${REMOTE_REDIS_HOST}  # IP основного сервера
      - REDIS_PORT=6379
      - REDIS_PASSWORD=${REDIS_PASSWORD}
      - REDIS_USER=${REDIS_USER}
      - REDIS_USER_PASSWORD=${REDIS_USER_PASSWORD}
      - PYTHONUNBUFFERED=1
    volumes:
      - ./bot:/app/bot
      - ./files:/app/files
      - ./log:/app/log
    restart: unless-stopped
